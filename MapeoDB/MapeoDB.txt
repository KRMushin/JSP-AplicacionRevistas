create schema app_revistas;
use app_revistas;

CREATE TABLE usuarios (
    id_usuario BIGINT AUTO_INCREMENT PRIMARY KEY,
    rol_suario ENUM('COMPRADOR', 'SUSCRIPTOR', 'EDITOR', 'ADMINISTRADOR') NOT NULL,
    nombre_Usuario VARCHAR(15) NOT NULL UNIQUE,
    password_usuario VARCHAR(50) NOT NULL,
    nombre_pila VARCHAR(100) NOT NULL,
    descripcion_usuario TEXT,
    foto BLOB
);

CREATE TABLE preferencias_usuario (    
	id_preferencia BIGINT AUTO_INCREMENT PRIMARY KEY,      
	id_usuario BIGINT,      
	tipo_preferencia ENUM('HOBBIE', 'GUSTO', 'TEMA', 'PREFERENCIA') NOT NULL,      	 
	valor_preferencia VARCHAR(20) NOT NULL,      
	FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)  
);

CREATE TABLE carteras_digitales {
	id_cartera BIGINT AUTO_INCREMENT PRIMARY KEY,
	id_usuario BIGINT,
	saldo_disponible Decimal (10,2 ) NOT NULL default 0.0,
	FOREIGN KEY(id_usuario) REFERENCES usuarios(id_usuario)
};


